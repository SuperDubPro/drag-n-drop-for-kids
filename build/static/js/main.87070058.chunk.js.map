{"version":3,"sources":["style/fontawesome.js","project-config.js","components/Draggable/index.jsx","components/Droppable/index.jsx","components/Modal/index.jsx","assets/success/index.js","assets/success/tenor.gif","assets/success/Nyan-Cat-PNG-Transparent-HD-Photo.png","assets/success/dancing-duckdancing.gif","assets/success/sbg.gif","assets/fail/index.js","assets/fail/Angry-Cat-PNG-Picture.png","assets/fail/Squidward.png","assets/fail/1Et.gif","components/Body.jsx","App.js","index.js"],"names":["library","add","faLongArrowAltDown","faLongArrowAltRight","faTimes","DATA","scheme","text","name","Draggable","uuid","onDragStart","onDrag","onDragEnd","className","children","coordinates","leftCorrection","topCorrection","pageHeight","pageWidth","clientHeight","clientWidth","draggableClone","privElemBelow","clearState","remove","copyComputedStyle","elem","clone","computedStyle","style","currentStyle","document","defaultView","getComputedStyle","getRealStyle","Object","keys","forEach","key","realStyle","test","fontSize","e","Error","dragScroll","scrollZonePx","elemsBelow","elementsFromPoint","clientX","clientY","window","scrollY","pageY","scrollBy","Math","abs","scrollX","pageX","cloneIndex","findIndex","id","splice","some","element","classList","contains","scrollWidth","scrollHeight","isOverflown","elemBox","getBoundingClientRect","top","bottom","left","right","handleStart","touch","draggable","currentTarget","click","clickEvent","documentElement","cloneStyle","cloneNode","box","position","pointerEvents","zIndex","opacity","body","append","max","offsetHeight","offsetWidth","innerHeight","innerWidth","cloneElem","handleTouchStart","changedTouches","handleTouchMove","cancelable","preventDefault","elemBelow","elementFromPoint","isPrivDroppable","dragEnterEvent","Event","substring","dispatchEvent","dragOverEvent","dragLeaveEvent","handleMove","handleTouchEnd","target","matches","event","handleEnd","handleTouchCancel","handleCancel","useEffect","getElementById","addEventListener","removeEventListener","defaultProps","random","toString","Droppable","onDragOver","onDrop","onDragEnter","onDragLeave","handleTouchDrop","handleDragOver","handleDragEnter","handleDragLeave","droppable","Modal","img1","img2","img3","img4","successImgsArr","successImgs","map","failImgsArr","failImgs","getRandomInt","min","ceil","floor","Body","React","useState","Map","item","index","genUuid","isDragOver","isDragging","droppedUuid","mState","setState","changeStateIteration","func","prevState","cardState","clearCard","card","array","newArr","i","length","randomIndex","getShuffledArr","cardsOrder","cards","setCards","draggingUuidRef","useRef","isCorrect","setIsCorrect","isModalOpened","setIsModalOpened","handleDragStart","useCallback","current","setTimeout","state","handleDrop","dropUuid","prevCard","filter","cardUuid","handleDragEnd","handleCloseModalButton","handleShowAnswers","createDroppable","icon","get","type","onClick","prevCards","orderUuid","prevUuid","createDraggable","disabled","size","every","src","alt","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.87070058.chunk.js","sourcesContent":["import { library } from '@fortawesome/fontawesome-svg-core';\r\n\r\nimport {\r\n  faLongArrowAltDown,\r\n  faLongArrowAltRight,\r\n  faTimes\r\n} from '@fortawesome/free-solid-svg-icons';\r\n\r\nlibrary.add(\r\n  faLongArrowAltDown,\r\n  faLongArrowAltRight,\r\n  faTimes\r\n);\r\n","const DATA = {\r\n  scheme: [\r\n    { text: 'Разработка программы внутренних аудитов' },\r\n    { text: 'Формирование плана аудита' },\r\n    { text: 'Разработка чек-листа' },\r\n    { text: 'Проведение внутреннего аудита на месте' },\r\n    { text: 'Анализ документированной информации' },\r\n    { text: 'Оформление результатов внутреннего аудита. Формирование отчета о проведении внутреннего аудита' },\r\n    { text: 'Согласование и утверждение отчета по внутреннему аудиту и его рассылка' },\r\n    { text: 'Завершение аудита' },\r\n    {\r\n      name: 'В случае выявления несоответствий',\r\n      text: 'Формирование плана по выполнению коррекций и корректирующих действий'\r\n    },\r\n    { text: 'Устранение несоответствий, реализация корректирующих действий' },\r\n    { text: 'Проверка устранения несоответствий при последующем внутреннем аудите' }\r\n  ]\r\n};\r\n\r\nexport default DATA;\r\n","import './draggable.scss';\r\nimport PropTypes from 'prop-types';\r\nimport { useEffect } from 'react';\r\n\r\nfunction Draggable({ uuid, onDragStart, onDrag, onDragEnd, className, children }) {\r\n  const coordinates = {\r\n    leftCorrection: 0,\r\n    topCorrection: 0,\r\n    pageHeight: 0,\r\n    pageWidth: 0,\r\n    clientHeight: 0,\r\n    clientWidth: 0\r\n  };\r\n  let draggableClone = null;\r\n  let privElemBelow = null;\r\n\r\n  const clearState = () => {\r\n    if (draggableClone) { draggableClone.remove(); }\r\n    draggableClone = null;\r\n    privElemBelow = null;\r\n    coordinates.leftCorrection = 0;\r\n    coordinates.topCorrection = 0;\r\n    coordinates.pageHeight = 0;\r\n    coordinates.pageWidth = 0;\r\n    coordinates.clientHeight = 0;\r\n    coordinates.clientWidth = 0;\r\n  };\r\n\r\n  const getRealStyle = (elem, style) => {\r\n    let computedStyle;\r\n    if (typeof elem.currentStyle !== 'undefined') {\r\n      computedStyle = elem.currentStyle;\r\n    } else {\r\n      computedStyle = document.defaultView.getComputedStyle(elem, null);\r\n    }\r\n\r\n    return style ? computedStyle[style] : computedStyle;\r\n  };\r\n\r\n  const copyComputedStyle = (elem, clone) => {\r\n    const computedStyle = getRealStyle(elem);\r\n    Object.keys(computedStyle).forEach(key => {\r\n      const realStyle = computedStyle[key];\r\n      // Do not use `hasOwnProperty`, nothing will get copied\r\n      if (\r\n        typeof computedStyle[realStyle] === 'string'\r\n        && computedStyle[realStyle]\r\n        && realStyle !== 'cssText'\r\n        && !/\\d/.test(realStyle)\r\n      ) {\r\n        try {\r\n          clone.style[realStyle] = computedStyle[realStyle];\r\n          // `fontSize` comes before `font` If `font` is empty, `fontSize` gets\r\n          // overwritten.  So make sure to reset this property. (hackyhackhack)\r\n          // Other properties may need similar treatment\r\n          if (realStyle === 'font') {\r\n            clone.style.fontSize = computedStyle.fontSize;\r\n          }\r\n        } catch (e) {\r\n          throw (new Error(`Ошибка при клонировании стиля ${e}`));\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const isOverflown = (element) => {\r\n    const { classList } = element;\r\n    return classList.contains('overflow-auto')\r\n      || classList.contains('overflow-auto-x')\r\n      || classList.contains('overflow-auto-y')\r\n      || element.clientWidth < element.scrollWidth\r\n      || element.clientHeight < element.scrollHeight;\r\n  };\r\n\r\n  const dragScroll = (e) => {\r\n    // TODO проверь скролл\r\n    const scrollZonePx = 25;\r\n    const elemsBelow = document.elementsFromPoint(e.clientX, e.clientY);\r\n\r\n    // TODO Исправить баг: если при портретной ориентации завести draggable элемент за правый край, то при перетаскивании вправо будет происходить скрол вверх (без срабатывания логики ниже). WTF???!!\r\n    if (\r\n      window.scrollY + coordinates.clientHeight < coordinates.pageHeight\r\n      && e.clientY >= (coordinates.clientHeight - scrollZonePx)\r\n      && e.pageY <= coordinates.pageHeight\r\n    ) {\r\n      // page down\r\n      window.scrollBy(0, (e.clientY - (coordinates.clientHeight - scrollZonePx)) * 2);\r\n    } else if (window.scrollY > 0 && e.clientY <= scrollZonePx && e.pageY >= 0) {\r\n      // page up\r\n      window.scrollBy(0, -Math.abs(scrollZonePx - Math.abs(e.clientY)) * 2);\r\n    } else if (\r\n      window.scrollX + coordinates.clientWidth < coordinates.pageWidth\r\n      && e.clientX >= (coordinates.clientWidth - scrollZonePx)\r\n      && e.clientX <= coordinates.pageWidth\r\n    ) {\r\n      // page right\r\n      window.scrollBy((e.clientX - (coordinates.clientWidth - scrollZonePx)) * 2, 0);\r\n    } else if (window.scrollX > 0 && e.clientX <= scrollZonePx && e.pageX >= 0) {\r\n      // page left\r\n      window.scrollBy(-Math.abs(scrollZonePx - Math.abs(e.clientX)) * 2, 0);\r\n    } else if (elemsBelow) {\r\n      const cloneIndex = elemsBelow.findIndex(elem => elem.id === `clone-${uuid}`);\r\n      elemsBelow.splice(0, cloneIndex + 1);\r\n\r\n      elemsBelow.some(elem => {\r\n        if (isOverflown(elem)) {\r\n          const elemBox = elem.getBoundingClientRect();\r\n          // overflown element up\r\n          if (e.clientY <= elemBox.top + scrollZonePx && e.clientY > elemBox.top && e.pageY >= 0) {\r\n            elem.scrollBy(0, -Math.abs(elemBox.top + scrollZonePx - Math.abs(e.clientY)) * 2);\r\n          }\r\n          // overflown element down\r\n          if (e.clientY >= elemBox.bottom - scrollZonePx && e.clientY <= elemBox.bottom && e.pageY <= coordinates.pageHeight) {\r\n            elem.scrollBy(0, (e.clientY - (elemBox.bottom - scrollZonePx)) * 2);\r\n          }\r\n          // overflown element left\r\n          if (e.clientX <= elemBox.left + scrollZonePx && e.clientX > elemBox.left && e.pageX >= 0) {\r\n            elem.scrollBy(-Math.abs(elemBox.left + scrollZonePx - e.clientX) * 2, 0);\r\n          }\r\n          // overflown element right\r\n          if (e.clientX >= elemBox.right - scrollZonePx && e.clientX <= elemBox.right && e.pageX <= coordinates.pageWidth) {\r\n            elem.scrollBy((e.clientX - (elemBox.right - scrollZonePx)) * 2, 0);\r\n          }\r\n          return true;\r\n        }\r\n        return false;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCancel = (e) => {\r\n    if (e.cancelable) { e.preventDefault(); }\r\n    clearState();\r\n\r\n    onDragEnd(e);\r\n  };\r\n\r\n  const handleMove = (e, touch) => {\r\n    if (e.cancelable) { e.preventDefault(); }\r\n\r\n    const click = touch || e;\r\n    const cloneStyle = draggableClone.style;\r\n    const elemBelow = document.elementFromPoint(click.clientX, click.clientY);\r\n    const isPrivDroppable = privElemBelow?.classList.contains('droppable');\r\n\r\n    if (elemBelow?.classList.contains('droppable')) {\r\n      if (!isPrivDroppable) {\r\n        const dragEnterEvent = new Event(`custom-dragenter-${elemBelow.id.substring(10)}`);\r\n        elemBelow.dispatchEvent(dragEnterEvent);\r\n      }\r\n\r\n      const dragOverEvent = new Event(`custom-dragover-${elemBelow.id.substring(10)}`);\r\n      elemBelow.dispatchEvent(dragOverEvent);\r\n    } else if (isPrivDroppable) {\r\n      const dragLeaveEvent = new Event(`custom-dragleave-${privElemBelow.id.substring(10)}`);\r\n      privElemBelow.dispatchEvent(dragLeaveEvent);\r\n    }\r\n    privElemBelow = elemBelow;\r\n\r\n    dragScroll(click);\r\n\r\n    cloneStyle.position = 'absolute';\r\n    cloneStyle.left = `${click.pageX - coordinates.leftCorrection}px`;\r\n    cloneStyle.top = `${click.pageY - coordinates.topCorrection}px`;\r\n  };\r\n\r\n  const handleEnd = (e, touch) => {\r\n    clearState();\r\n    const click = touch || e;\r\n\r\n    if (!e.target.matches('button:not([disabled]), [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])')) {\r\n      if (e.cancelable) { e.preventDefault(); }\r\n      const elemBelow = document.elementFromPoint(click.clientX, click.clientY);\r\n\r\n      if (elemBelow?.classList.contains('droppable')) {\r\n        const event = new Event(`custom-drop-${elemBelow.id.substring(10)}`);\r\n        elemBelow.dispatchEvent(event);\r\n      }\r\n    }\r\n\r\n    onDragEnd(e);\r\n  };\r\n\r\n  const cloneElem = (elem, clickEvent) => {\r\n    const { documentElement } = document;\r\n    draggableClone = elem.cloneNode(true);\r\n    const cloneStyle = draggableClone.style;\r\n    const box = elem.getBoundingClientRect();\r\n\r\n    coordinates.leftCorrection = clickEvent.clientX - box.left;\r\n    coordinates.topCorrection = clickEvent.clientY - box.top;\r\n\r\n    draggableClone.id = `clone-${uuid}`;\r\n    draggableClone.draggable = true;\r\n\r\n    copyComputedStyle(elem, draggableClone);\r\n\r\n    cloneStyle.position = 'absolute';\r\n    cloneStyle.pointerEvents = 'none';\r\n    cloneStyle.zIndex = 1020;\r\n    cloneStyle.opacity = 0.5;\r\n    cloneStyle.left = `${clickEvent.pageX - coordinates.leftCorrection}px`;\r\n    cloneStyle.top = `${clickEvent.pageY - coordinates.topCorrection}px`;\r\n\r\n    document.body.append(draggableClone);\r\n\r\n    coordinates.pageHeight = Math.max(\r\n      document.body.scrollHeight, documentElement.scrollHeight,\r\n      document.body.offsetHeight, documentElement.offsetHeight,\r\n      document.body.clientHeight, documentElement.clientHeight\r\n    );\r\n    coordinates.pageWidth = Math.max(\r\n      document.body.scrollWidth, documentElement.scrollWidth,\r\n      document.body.offsetWidth, documentElement.offsetWidth,\r\n      document.body.clientWidth, documentElement.clientWidth\r\n    );\r\n    coordinates.clientHeight = Math.max(window.innerHeight, documentElement.clientHeight);\r\n    coordinates.clientWidth = Math.max(window.innerWidth, documentElement.clientWidth);\r\n  };\r\n\r\n  const handleStart = (e, touch) => {\r\n    const draggable = e.currentTarget;\r\n    const click = touch || e;\r\n\r\n    if (!draggableClone) { cloneElem(draggable, click); }\r\n    dragScroll(click);\r\n\r\n    onDragStart(e);\r\n  };\r\n\r\n  const handleDragStart = (e) => { onDragStart(e); };\r\n  const handleDrag = (e) => { onDrag(e); };\r\n  const handleDragEnd = (e) => { onDragEnd(e); };\r\n\r\n  const handleTouchStart = (e) => { handleStart(e, e.changedTouches[0]); };\r\n  const handleTouchMove = (e) => { handleMove(e, e.changedTouches[0]); };\r\n  const handleTouchEnd = (e) => { handleEnd(e, e.changedTouches[0]); };\r\n  const handleTouchCancel = (e) => { handleCancel(e); };\r\n\r\n  useEffect(() => {\r\n    const draggable = document.getElementById(`draggable-${uuid}`);\r\n    draggable.addEventListener('touchstart', handleTouchStart);\r\n    draggable.addEventListener('touchmove', handleTouchMove);\r\n    draggable.addEventListener('touchend', handleTouchEnd);\r\n    draggable.addEventListener('touchcancel', handleTouchCancel);\r\n\r\n    return () => {\r\n      draggable.removeEventListener('touchstart', handleTouchStart);\r\n      draggable.removeEventListener('touchmove', handleTouchMove);\r\n      draggable.removeEventListener('touchend', handleTouchEnd);\r\n      draggable.removeEventListener('touchcancel', handleTouchCancel);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      className={`interactive draggable ${className} p-2`}\r\n      draggable=\"true\"\r\n      id={`draggable-${uuid}`}\r\n      onDragStart={handleDragStart}\r\n      onDrag={handleDrag}\r\n      onDragEnd={handleDragEnd}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nDraggable.propTypes = {\r\n  uuid: PropTypes.string,\r\n  className: PropTypes.string,\r\n  onDragStart: PropTypes.func,\r\n  onDrag: PropTypes.func,\r\n  onDragEnd: PropTypes.func,\r\n  // eslint-disable-next-line react/forbid-prop-types\r\n  children: PropTypes.any\r\n};\r\n\r\nDraggable.defaultProps = {\r\n  uuid: Math.random().toString(),\r\n  className: '',\r\n  onDragStart: () => {},\r\n  onDrag: () => {},\r\n  onDragEnd: () => {},\r\n  children: null\r\n};\r\n\r\nexport default Draggable;\r\n","import './droppable.scss';\r\nimport PropTypes from 'prop-types';\r\nimport { useEffect } from 'react';\r\n\r\nfunction Droppable({ uuid, onDragOver, onDrop, onDragEnter, onDragLeave, className, children }) {\r\n  const handleTouchDrop = (e) => {\r\n    onDrop(e);\r\n  };\r\n\r\n  const handleDragOver = (e) => {\r\n    e.preventDefault();\r\n    onDragOver(e);\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    onDrop(e);\r\n  };\r\n\r\n  const handleDragEnter = (e) => {\r\n    e.preventDefault();\r\n    onDragEnter(e);\r\n  };\r\n\r\n  const handleDragLeave = (e) => {\r\n    e.preventDefault();\r\n    onDragLeave(e);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const droppable = document.getElementById(`droppable-${uuid}`);\r\n    droppable.addEventListener(`custom-drop-${uuid}`, handleTouchDrop);\r\n    droppable.addEventListener(`custom-dragover-${uuid}`, handleDragOver);\r\n    droppable.addEventListener(`custom-dragenter-${uuid}`, handleDragEnter);\r\n    droppable.addEventListener(`custom-dragleave-${uuid}`, handleDragLeave);\r\n\r\n    return () => {\r\n      droppable.removeEventListener(`custom-drop-${uuid}`, handleTouchDrop);\r\n      droppable.removeEventListener(`custom-dragover-${uuid}`, handleDragOver);\r\n      droppable.removeEventListener(`custom-dragenter-${uuid}`, handleDragEnter);\r\n      droppable.removeEventListener(`custom-dragleave-${uuid}`, handleDragLeave);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      className={`interactive droppable ${className} p-2`}\r\n      id={`droppable-${uuid}`}\r\n      onDragOver={handleDragOver}\r\n      onDrop={handleDrop}\r\n      onDragEnter={handleDragEnter}\r\n      onDragLeave={handleDragLeave}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nDroppable.propTypes = {\r\n  // eslint-disable-next-line react/forbid-prop-types\r\n  children: PropTypes.any,\r\n  uuid: PropTypes.string,\r\n  className: PropTypes.string,\r\n  onDragEnter: PropTypes.func,\r\n  onDragOver: PropTypes.func,\r\n  onDragLeave: PropTypes.func,\r\n  onDrop: PropTypes.func\r\n};\r\n\r\nDroppable.defaultProps = {\r\n  children: null,\r\n  uuid: Math.random().toString(),\r\n  className: '',\r\n  onDragEnter: () => {},\r\n  onDragOver: () => {},\r\n  onDragLeave: () => {},\r\n  onDrop: () => {}\r\n};\r\n\r\nexport default Droppable;\r\n","import './modal.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Modal({ className, children }) {\r\n  return (\r\n    <div className=\"modal-wrapper\">\r\n      <div\r\n        className={`modal ${className} p-4`}\r\n      >\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  className: PropTypes.string,\r\n  // eslint-disable-next-line react/forbid-prop-types\r\n  children: PropTypes.any\r\n};\r\n\r\nModal.defaultProps = {\r\n  className: '',\r\n  children: null\r\n};\r\n\r\nexport default Modal;\r\n","import img1 from './tenor.gif';\r\nimport img2 from './Nyan-Cat-PNG-Transparent-HD-Photo.png';\r\nimport img3 from './dancing-duckdancing.gif';\r\nimport img4 from './sbg.gif';\r\n\r\nexport default {\r\n  img1,\r\n  img2,\r\n  img3,\r\n  img4\r\n};\r\n","export default __webpack_public_path__ + \"static/media/tenor.b82d90d1.gif\";","export default __webpack_public_path__ + \"static/media/Nyan-Cat-PNG-Transparent-HD-Photo.311c159d.png\";","export default __webpack_public_path__ + \"static/media/dancing-duckdancing.52e7357b.gif\";","export default __webpack_public_path__ + \"static/media/sbg.18489d7c.gif\";","import img1 from './Angry-Cat-PNG-Picture.png';\r\nimport img2 from './Squidward.png';\r\nimport img3 from './1Et.gif';\r\n\r\nexport default {\r\n  img1,\r\n  img2,\r\n  img3\r\n};\r\n","export default __webpack_public_path__ + \"static/media/Angry-Cat-PNG-Picture.c356e022.png\";","export default __webpack_public_path__ + \"static/media/Squidward.08e212e3.png\";","export default __webpack_public_path__ + \"static/media/1Et.077d6458.gif\";","import { v1 as genUuid } from 'uuid';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport DATA from '../project-config';\r\nimport Draggable from './Draggable';\r\nimport Droppable from './Droppable';\r\nimport Modal from './Modal';\r\nimport successImgs from '../assets/success';\r\nimport failImgs from '../assets/fail';\r\n\r\nconst { scheme } = DATA;\r\nconst successImgsArr = Object.keys(successImgs).map(key => successImgs[key]);\r\nconst failImgsArr = Object.keys(failImgs).map(key => failImgs[key]);\r\n\r\nfunction getRandomInt(min, max) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min)) + min;\r\n}\r\n\r\nconst getShuffledArr = (array) => {\r\n  const newArr = [...array];\r\n\r\n  for (let i = newArr.length - 1; i > 0; i--) {\r\n    const randomIndex = Math.floor(Math.random() * (i + 1));\r\n    [newArr[i], newArr[randomIndex]] = [newArr[randomIndex], newArr[i]];\r\n  }\r\n\r\n  return newArr;\r\n};\r\n\r\nfunction Body() {\r\n  /** set mState */\r\n  const [mState, setState] = React.useState(() => new Map(scheme.map((item, index) => {\r\n    const uuid = genUuid();\r\n    return [uuid, {\r\n      uuid,\r\n      index,\r\n      text: item.text,\r\n      name: item.name,\r\n      isDragOver: false,\r\n      isDragging: false,\r\n      droppedUuid: ''\r\n    }];\r\n  })));\r\n\r\n  const changeStateIteration = (func) => {\r\n    setState(prevState => new Map([...prevState].map(([uuid, cardState]) => {\r\n      func(uuid, cardState);\r\n      return [uuid, cardState];\r\n    })));\r\n  };\r\n\r\n  const clearCard = (card) => {\r\n    card.droppedUuid = '';\r\n    card.isDragOver = false;\r\n    card.isDragging = false;\r\n  };\r\n\r\n  /** set cardsOrder and cards */\r\n  const [cardsOrder] = React.useState(() => getShuffledArr([...mState].map(([uuid]) => uuid)));\r\n  const [cards, setCards] = React.useState(() => [...cardsOrder]);\r\n  const draggingUuidRef = React.useRef(null);\r\n\r\n  /** set some flags */\r\n  const [isCorrect, setIsCorrect] = React.useState(() => false);\r\n  const [isModalOpened, setIsModalOpened] = React.useState(() => false);\r\n\r\n  /** set handlers */\r\n  const handleDragStart = React.useCallback((e, uuid) => {\r\n    draggingUuidRef.current = uuid;\r\n    setTimeout(() => changeStateIteration((id, state) => {\r\n      state.isDragging = id === uuid;\r\n    }), 0);\r\n  }, []);\r\n\r\n  const handleDrop = React.useCallback((e, dropUuid) => {\r\n    // console.log(e.currentTarget);\r\n    const droppedUuid = draggingUuidRef.current;\r\n    setCards(prevCard => prevCard.filter(cardUuid => cardUuid !== droppedUuid));\r\n    changeStateIteration((cardUuid, state) => {\r\n      state.isDragOver = false;\r\n      state.isDragging = false;\r\n      if (cardUuid === dropUuid) {\r\n        state.droppedUuid = droppedUuid;\r\n      } else {\r\n        state.droppedUuid = state.droppedUuid === droppedUuid ? '' : state.droppedUuid;\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const handleDragEnd = React.useCallback(() => {\r\n    draggingUuidRef.current = null;\r\n    changeStateIteration((id, state) => {\r\n      state.isDragging = false;\r\n    });\r\n  }, []);\r\n\r\n  const handleDragEnter = React.useCallback((e, uuid) => {\r\n    changeStateIteration((id, state) => {\r\n      state.isDragOver = id === uuid;\r\n    });\r\n  }, []);\r\n\r\n  const handleDragLeave = React.useCallback(() => {\r\n    changeStateIteration((id, state) => {\r\n      state.isDragOver = false;\r\n    });\r\n  }, []);\r\n\r\n  const handleCheckClick = () => {\r\n    setIsCorrect([...mState].every(([uuid, state]) => state.droppedUuid === uuid));\r\n    setIsModalOpened(true);\r\n  };\r\n\r\n  const handleResetAll = () => {\r\n    changeStateIteration((uuid, card) => { clearCard(card); });\r\n    setCards([...cardsOrder]);\r\n  };\r\n\r\n  const handleResetCard = (cardState) => {\r\n    changeStateIteration((uuid, card) => {\r\n      if (card.droppedUuid === cardState.uuid) { clearCard(card); }\r\n    });\r\n    setCards(prevCards => cardsOrder\r\n      .filter(orderUuid => orderUuid === cardState.uuid\r\n        || prevCards.some(prevUuid => prevUuid === orderUuid)));\r\n  };\r\n\r\n  const handleCloseModalButton = () => {\r\n    setIsModalOpened(false);\r\n  };\r\n\r\n  const handleShowAnswers = () => {\r\n    setIsModalOpened(false);\r\n    changeStateIteration((uuid, card) => { card.droppedUuid = uuid; });\r\n  };\r\n\r\n  /** create some jsx elements */\r\n  const createDroppable = (state) => {\r\n    const { uuid, droppedUuid, isDragOver } = state;\r\n\r\n    //  {(!state.droppedUuid || mState.get(state.droppedUuid).isDragging)\r\n    return (\r\n      <div\r\n        className=\"interactive-container droppable-container mx-2\"\r\n        key={`droppable-container-${uuid}`}\r\n      >\r\n        <div className=\"name-row-container dark my-1\">\r\n          <div className=\"graph-arrow-container\">\r\n            <FontAwesomeIcon className=\"graph-arrow\" icon={['fas', 'long-arrow-alt-down']} />\r\n            <div className=\"name-row\">{typeof state.name === 'string' ? state.name : null}</div>\r\n          </div>\r\n        </div>\r\n        {!state.droppedUuid\r\n          ? (\r\n            <Droppable\r\n              uuid={uuid}\r\n              key={`droppable-component-${uuid}`}\r\n              className={`border-dashed ${isDragOver ? 'hovered' : ''}`}\r\n              onDrop={(e) => { handleDrop(e, uuid); }}\r\n              onDragEnter={(e) => { handleDragEnter(e, uuid); }}\r\n              onDragLeave={(e) => { handleDragLeave(e, uuid); }}\r\n            >\r\n              <div className=\"drop-index-container primary\">\r\n                <div className=\"drop-index\">\r\n                  {state.index + 1}\r\n                </div>\r\n              </div>\r\n            </Droppable>\r\n          )\r\n          : (\r\n            <Draggable\r\n              uuid={droppedUuid}\r\n              key={`selected-card-${droppedUuid}`}\r\n              className={mState.get(droppedUuid).isDragging ? 'hidden' : ''}\r\n              onDragStart={(e) => { handleDragStart(e, droppedUuid); }}\r\n              onDragEnd={(e) => { handleDragEnd(e, droppedUuid); }}\r\n            >\r\n              <div className=\"dragged-card-body p-1\">\r\n                <div>{mState.get(droppedUuid).text}</div>\r\n                {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events */}\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close-cross btn ml-2\"\r\n                  onClick={() => { handleResetCard(mState.get(droppedUuid)); }}\r\n                >\r\n                  <FontAwesomeIcon icon={['fas', 'times']} />\r\n                </button>\r\n              </div>\r\n            </Draggable>\r\n          )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const createDraggable = (state) => {\r\n    const { uuid } = state;\r\n\r\n    return (\r\n      <div\r\n        className=\"interactive-container m-2\"\r\n        key={`draggable-container-${uuid}`}\r\n      >\r\n        <Draggable\r\n          uuid={uuid}\r\n          className={state.isDragging ? 'hidden' : ''}\r\n          onDragStart={(e) => { handleDragStart(e, uuid); }}\r\n          onDragEnd={(e) => { handleDragEnd(e, uuid); }}\r\n        >\r\n          <div className=\"p-1\">{state.text}</div>\r\n        </Draggable>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const createModalBody = () => (\r\n    isCorrect\r\n      ? (\r\n        <div className=\"modal-content\">\r\n          <h1 className=\"success p-0 mt-0\">Правильно!</h1>\r\n          <img\r\n            src={successImgsArr[getRandomInt(0, successImgsArr.length)]}\r\n            alt=\"success_anime_gif\"\r\n          />\r\n          <div className=\"button-block mt-4\">\r\n            <button\r\n              className=\"btn btn-secondary\"\r\n              type=\"button\"\r\n              onClick={handleCloseModalButton}\r\n            >\r\n              Ок\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )\r\n      : (\r\n        <div className=\"modal-content\">\r\n          <h1 className=\"danger p-0 mt-0\">Неправильно</h1>\r\n          <img\r\n            src={failImgsArr[getRandomInt(0, failImgsArr.length)]}\r\n            alt=\"Тут должна была быть картинка, но даже в этом Вам не повезло :(\"\r\n          />\r\n          <div className=\"button-block mt-4\">\r\n            <button\r\n              className=\"btn btn-success mr-2\"\r\n              type=\"button\"\r\n              onClick={handleShowAnswers}\r\n            >\r\n              Показать ответ\r\n            </button>\r\n            <button\r\n              className=\"btn btn-secondary\"\r\n              type=\"button\"\r\n              onClick={handleCloseModalButton}\r\n            >\r\n              Закрыть\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )\r\n  );\r\n\r\n  // TODO разобраться почему работают приоритеты mr-0 над m-1 в bootstrap\r\n  return (\r\n    <div className=\"body\">\r\n      <div className=\"lists-container\">\r\n        <div className=\"interactive-list draggable-list p-4 my-4 mr-2 ml-4\">\r\n          <div className=\"draggable-list-wrapper\">\r\n            {cards.map(uuid => {\r\n              const card = mState.get(uuid);\r\n              return createDraggable(card);\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"prompt-arrow dark\">\r\n          <FontAwesomeIcon className=\"graph-arrow\" icon={['fas', 'long-arrow-alt-right']} />\r\n        </div>\r\n\r\n        <div className=\"interactive-list droppable-list p-4 my-4 mr-4 ml-2\">\r\n          {[...mState].map(([, state]) => createDroppable(state))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"button-block m-2\">\r\n        <button\r\n          className=\"btn btn-secondary mr-2\"\r\n          type=\"button\"\r\n          disabled={cards.length === mState.size ? 'disabled' : ''}\r\n          onClick={handleResetAll}\r\n        >\r\n          Сбросить\r\n        </button>\r\n        <button\r\n          className=\"btn btn-primary\"\r\n          type=\"button\"\r\n          disabled={cards.length ? 'disabled' : ''}\r\n          onClick={handleCheckClick}\r\n        >\r\n          Проверить\r\n        </button>\r\n      </div>\r\n\r\n      {\r\n        isModalOpened && (\r\n          <Modal>\r\n            {createModalBody()}\r\n          </Modal>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Body;\r\n","// import './App.css';\nimport './style/app.scss';\nimport Body from './components/Body';\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Body />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './style/index.scss';\r\nimport './style/fontawesome';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}